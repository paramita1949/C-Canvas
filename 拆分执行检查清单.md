# MainWindow æ‹†åˆ†æ‰§è¡Œæ£€æŸ¥æ¸…å•

å¿«é€Ÿå‚è€ƒç‰ˆæœ¬ | é…åˆã€ŠTODO_ä¸­ä¼˜å…ˆçº§æ‰§è¡Œè®¡åˆ’.mdã€‹ä½¿ç”¨

---

## âœ… é˜¶æ®µä¸€ï¼šå‘½åè§„èŒƒï¼ˆ2å‘¨ï¼‰

### Week 1: å­—æ®µé‡å‘½å
- [ ] **Day 1-2**: Managerç±»å­—æ®µï¼ˆ11ä¸ªï¼‰
  ```csharp
  âŒ private VideoPlayerManager videoPlayerManager;
  âœ… private VideoPlayerManager _videoPlayerManager;
  ```
  - [ ] _videoPlayerManager
  - [ ] _dbManager
  - [ ] _configManager
  - [ ] _importManager
  - [ ] _imageSaveManager
  - [ ] _searchManager
  - [ ] _sortManager  
  - [ ] _projectionManager
  - [ ] _originalManager
  - [ ] _preloadCacheManager
  - [ ] _globalHotKeyManager
  - [ ] ç¼–è¯‘æµ‹è¯• âœ“
  - [ ] åŠŸèƒ½æµ‹è¯• âœ“

- [ ] **Day 3-4**: æ ¸å¿ƒåŠŸèƒ½å­—æ®µï¼ˆ15ä¸ªï¼‰
  - [ ] _imageProcessor ~ _isDragInProgress
  - [ ] ç¼–è¯‘æµ‹è¯• âœ“
  - [ ] åŠŸèƒ½æµ‹è¯• âœ“

- [ ] **Day 5**: è§†é¢‘å’Œå…¶ä»–å­—æ®µï¼ˆ10ä¸ªï¼‰
  - [ ] _mainVideoView ~ _lastMediaNextClickTime
  - [ ] å…¨é¢æµ‹è¯• âœ“
  - [ ] Gitæäº¤ âœ“

### Week 2: å¸¸é‡å’Œå¼‚æ­¥å‘½å
- [ ] **Day 1-2**: æå–é­”æ³•æ•°å­—ä¸ºå¸¸é‡
  ```csharp
  âŒ if (time < 300) return;
  âœ… if (time < BUTTON_DEBOUNCE_MILLISECONDS) return;
  ```
  - [ ] åˆ›å»ºUIConstantsç±»
  - [ ] æå–æ‰€æœ‰é­”æ³•æ•°å­—
  - [ ] æµ‹è¯• âœ“

- [ ] **Day 3-5**: å¼‚æ­¥æ–¹æ³•æ·»åŠ Asyncåç¼€
  - [ ] è¯†åˆ«æ‰€æœ‰asyncæ–¹æ³•
  - [ ] æ‰¹é‡é‡å‘½å
  - [ ] æ›´æ–°XAMLç»‘å®š
  - [ ] æµ‹è¯• âœ“
  - [ ] Gitæäº¤ âœ“

---

## âœ… é˜¶æ®µäºŒï¼šæ‹†åˆ†MainWindowï¼ˆ4å‘¨ï¼‰

### Week 3: åˆ†æè®¾è®¡ + Mediaæ¨¡å—
- [ ] **Day 1-3**: åˆ†æå’Œè®¾è®¡
  - [ ] åˆ†ææ‰€æœ‰æ–¹æ³•ï¼ˆ200+ï¼‰
  - [ ] åŠŸèƒ½æ¨¡å—åˆ†ç»„
  - [ ] åˆ›å»ºæ‹†åˆ†è®¾è®¡æ–‡æ¡£
  - [ ] è¯„ä¼°é£é™©

- [ ] **Day 4-5**: MainWindow.Media.csï¼ˆç¬¬1éƒ¨åˆ†ï¼‰
  - [ ] åˆ›å»ºæ–‡ä»¶å’ŒåŸºç¡€ç»“æ„
  - [ ] è¿ç§»å­—æ®µï¼ˆ5ä¸ªï¼‰
  - [ ] è¿ç§»InitializeVideoPlayer()

### Week 4: Mediaæ¨¡å—å®Œæˆ
- [ ] **Day 1-3**: MainWindow.Media.csï¼ˆç¬¬2éƒ¨åˆ†ï¼‰
  - [ ] è¿ç§»è§†é¢‘äº‹ä»¶å¤„ç†ï¼ˆ6ä¸ªæ–¹æ³•ï¼‰
  - [ ] è¿ç§»æ’­æ”¾æ§åˆ¶æ–¹æ³•
  - [ ] è¿ç§»LoadAndDisplayVideo()
  - [ ] è¿ç§»SwitchToImageMode()

- [ ] **Day 4-5**: æµ‹è¯•å’ŒéªŒè¯
  - [ ] ç¼–è¯‘æµ‹è¯• âœ“
  - [ ] è§†é¢‘æ’­æ”¾æµ‹è¯• âœ“
  - [ ] éŸ³é¢‘æ’­æ”¾æµ‹è¯• âœ“
  - [ ] è¿›åº¦æ¡æµ‹è¯• âœ“
  - [ ] ä»£ç å®¡æŸ¥ âœ“
  - [ ] Gitæäº¤ âœ“

### Week 5: Projection + TreeViewæ¨¡å—
- [ ] **Day 1-3**: MainWindow.Projection.cs
  - [ ] åˆ›å»ºæ–‡ä»¶
  - [ ] è¿ç§»æŠ•å½±ç›¸å…³ä»£ç 
  - [ ] æµ‹è¯•æŠ•å½±åŠŸèƒ½ âœ“
  - [ ] Gitæäº¤ âœ“

- [ ] **Day 4-5**: MainWindow.TreeView.csï¼ˆç¬¬1éƒ¨åˆ†ï¼‰
  - [ ] åˆ›å»ºæ–‡ä»¶
  - [ ] è¿ç§»é¡¹ç›®æ ‘å­—æ®µ
  - [ ] è¿ç§»LoadProject()

### Week 6: TreeView + ImageProcessingæ¨¡å—
- [ ] **Day 1-2**: MainWindow.TreeView.csï¼ˆç¬¬2éƒ¨åˆ†ï¼‰
  - [ ] è¿ç§»TreeViewäº‹ä»¶
  - [ ] è¿ç§»æ‹–æ‹½åŠŸèƒ½
  - [ ] æµ‹è¯• âœ“
  - [ ] Gitæäº¤ âœ“

- [ ] **Day 3-5**: MainWindow.ImageProcessing.cs
  - [ ] åˆ›å»ºæ–‡ä»¶
  - [ ] è¿ç§»å›¾åƒå¤„ç†ä»£ç 
  - [ ] æµ‹è¯• âœ“
  - [ ] Gitæäº¤ âœ“

### Week 7: EventHandlers + æœ€ç»ˆæ•´ç†
- [ ] **Day 1-3**: MainWindow.EventHandlers.cs
  - [ ] åˆ›å»ºæ–‡ä»¶
  - [ ] è¿ç§»äº‹ä»¶å¤„ç†ä»£ç 
  - [ ] æµ‹è¯• âœ“
  - [ ] Gitæäº¤ âœ“

- [ ] **Day 4-5**: é‡æ„MainWindow.Core.cs
  - [ ] ç²¾ç®€ä¸»æ–‡ä»¶
  - [ ] æ¸…ç†é‡å¤ä»£ç 
  - [ ] ä¼˜åŒ–ç»“æ„
  - [ ] å…¨é¢æµ‹è¯• âœ“
  - [ ] æœ€ç»ˆå®¡æŸ¥ âœ“
  - [ ] Gitæäº¤ âœ“

---

## ğŸ“Š å¿«é€ŸçŠ¶æ€è¡¨

| æ¨¡å— | ç›®æ ‡è¡Œæ•° | çŠ¶æ€ | æµ‹è¯• | æäº¤ |
|------|---------|------|------|------|
| å‘½åè§„èŒƒ | - | ğŸ”² | ğŸ”² | ğŸ”² |
| MainWindow.Media | ~600è¡Œ | ğŸ”² | ğŸ”² | ğŸ”² |
| MainWindow.Projection | ~400è¡Œ | ğŸ”² | ğŸ”² | ğŸ”² |
| MainWindow.TreeView | ~500è¡Œ | ğŸ”² | ğŸ”² | ğŸ”² |
| MainWindow.ImageProcessing | ~600è¡Œ | ğŸ”² | ğŸ”² | ğŸ”² |
| MainWindow.EventHandlers | ~500è¡Œ | ğŸ”² | ğŸ”² | ğŸ”² |
| MainWindow.Core (ç²¾ç®€å) | <1000è¡Œ | ğŸ”² | ğŸ”² | ğŸ”² |

**å½“å‰MainWindow**: 6003è¡Œ â†’ **ç›®æ ‡**: <1000è¡Œ

---

## ğŸ§ª æ¯æ—¥æµ‹è¯•æ£€æŸ¥é¡¹

### ç¼–è¯‘æµ‹è¯•
```bash
dotnet build --configuration Debug
# é¢„æœŸ: 0 errors
```

### åŠŸèƒ½æµ‹è¯•ï¼ˆ5åˆ†é’Ÿå¿«é€Ÿæµ‹è¯•ï¼‰
- [ ] å¯åŠ¨åº”ç”¨
- [ ] åŠ è½½é¡¹ç›®
- [ ] åˆ‡æ¢å›¾ç‰‡
- [ ] æ’­æ”¾è§†é¢‘
- [ ] æµ‹è¯•çƒ­é”®ï¼ˆESC, F2, æ–¹å‘é”®ï¼‰
- [ ] å…³é—­åº”ç”¨

### æ·±åº¦æµ‹è¯•ï¼ˆæ¯å‘¨äº”ï¼‰
- [ ] å®Œæ•´å·¥ä½œæµæµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å†…å­˜æ³„æ¼æ£€æŸ¥

---

## ğŸš¨ é‡åˆ°é—®é¢˜æ—¶

### å¿«é€Ÿè¯Šæ–­
1. **ç¼–è¯‘é”™è¯¯**: æ£€æŸ¥å­—æ®µ/æ–¹æ³•æ˜¯å¦æ­£ç¡®è¿ç§»
2. **åŠŸèƒ½å¼‚å¸¸**: å›æ»šåˆ°ä¸Šä¸€ä¸ªGitæ ‡ç­¾
3. **æ€§èƒ½é—®é¢˜**: å¯¹æ¯”æ‹†åˆ†å‰åæ€§èƒ½æ•°æ®

### å›æ»šå‘½ä»¤
```bash
# æŸ¥çœ‹æ ‡ç­¾
git tag -l

# å›æ»šåˆ°æŒ‡å®šæ ‡ç­¾
git reset --hard <tag-name>
```

---

## ğŸ“Œ æ¯æ—¥å·¥ä½œæµç¨‹

### å¼€å§‹å·¥ä½œ
1. æŸ¥çœ‹TODO_ä¸­ä¼˜å…ˆçº§æ‰§è¡Œè®¡åˆ’.md
2. é€‰æ‹©ä»Šå¤©çš„ä»»åŠ¡
3. åˆ›å»ºæˆ–åˆ‡æ¢åˆ°å¯¹åº”åˆ†æ”¯

### å·¥ä½œä¸­
4. æŒ‰æ£€æŸ¥æ¸…å•æ‰§è¡Œ
5. æ¯å°æ—¶ä¿å­˜å·¥ä½œè¿›åº¦
6. é‡åˆ°é—®é¢˜è®°å½•Issue

### ç»“æŸå·¥ä½œ
7. è¿è¡Œç¼–è¯‘æµ‹è¯•
8. è¿è¡ŒåŠŸèƒ½æµ‹è¯•
9. æ›´æ–°è¿›åº¦
10. Gitæäº¤

---

## âœ¨ å®Œæˆæ ‡å‡†

### é˜¶æ®µä¸€å®Œæˆæ ‡å‡†
- âœ… æ‰€æœ‰å­—æ®µä½¿ç”¨ä¸‹åˆ’çº¿å‰ç¼€
- âœ… æ— é­”æ³•æ•°å­—
- âœ… å¼‚æ­¥æ–¹æ³•æœ‰Asyncåç¼€
- âœ… ç¼–è¯‘æ— é”™è¯¯
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸

### é˜¶æ®µäºŒå®Œæˆæ ‡å‡†
- âœ… MainWindow.xaml.cs < 1000è¡Œ
- âœ… æ¯ä¸ªéƒ¨åˆ†ç±»èŒè´£æ¸…æ™°
- âœ… æ— é‡å¤ä»£ç 
- âœ… ç¼–è¯‘æ— é”™è¯¯
- âœ… å®Œæ•´å›å½’æµ‹è¯•é€šè¿‡
- âœ… æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™
- âœ… ä»£ç å®¡æŸ¥é€šè¿‡

---

**ä½¿ç”¨æç¤º**ï¼š
- æ‰“å°æ­¤æ–‡æ¡£ï¼Œæ¯å¤©å‹¾é€‰å®Œæˆçš„é¡¹ç›®
- é…åˆè¯¦ç»†çš„TODOæ–‡æ¡£ä½¿ç”¨
- é‡åˆ°é—®é¢˜éšæ—¶æ ‡è®°å’Œè®°å½•

**æ›´æ–°æ—¥æœŸ**: 2025-10-17

