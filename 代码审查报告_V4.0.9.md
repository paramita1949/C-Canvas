# Canvas Cast V4.0.9 ä»£ç å®¡æŸ¥æŠ¥å‘Š

ç”Ÿæˆæ—¶é—´ï¼š2025-10-17
å®¡æŸ¥èŒƒå›´ï¼šæ•´ä¸ªé¡¹ç›®ä»£ç åº“
å®¡æŸ¥ç›®æ ‡ï¼šæŸ¥æ‰¾è„‘æ®‹ä»£ç ã€æ— ç”¨ä»£ç ã€é€»è¾‘å†²çªã€é‡å¤è°ƒç”¨ç­‰æ½œåœ¨é—®é¢˜

---

## ä¸€ã€æ€»ä½“è¯„ä¼°

### ä»£ç è§„æ¨¡
- **MainWindow.xaml.cs**: 5930è¡Œï¼ˆâš ï¸ è¶…å¤§æ–‡ä»¶ï¼Œå»ºè®®æ‹†åˆ†ï¼‰
- **æ€»æ³¨é‡Šè¡Œæ•°**: 991+ è¡Œè°ƒè¯•/TODOæ³¨é‡Š
- **Managerç±»æ•°é‡**: 11ä¸ª

### æ¶æ„é—®é¢˜
âœ… **ä¼˜ç‚¹**ï¼š
- æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼ˆUI/Manager/Repository/Serviceï¼‰
- ä½¿ç”¨äº†MVVMæ¨¡å¼ï¼ˆPlaybackControlViewModelï¼‰
- è‰¯å¥½çš„ä¾èµ–æ³¨å…¥è®¾è®¡

âš ï¸ **ç¼ºç‚¹**ï¼š
- MainWindowç±»è¿‡äºè‡ƒè‚¿ï¼ˆä¸Šå¸ç±»åæ¨¡å¼ï¼‰
- éƒ¨åˆ†èŒè´£æ··ä¹±
- å­˜åœ¨é‡å¤ä»£ç 

---

## äºŒã€å‘ç°çš„é—®é¢˜ä»£ç 

### ğŸ”´ ä¸¥é‡é—®é¢˜

#### 1. MainWindowè¶…å¤§ç±»ï¼ˆä¸Šå¸ç±»åæ¨¡å¼ï¼‰
**ä½ç½®**: `UI/MainWindow.xaml.cs` (5930è¡Œ)

**é—®é¢˜**ï¼š
```csharp
public partial class MainWindow : Window, INotifyPropertyChanged
{
    // 11ä¸ªManagerå­—æ®µ
    private DatabaseManager dbManager;
    private ConfigManager configManager;
    private ImportManager importManager;
    private ImageSaveManager imageSaveManager;
    private SearchManager searchManager;
    private SortManager sortManager;
    private ProjectionManager projectionManager;
    private OriginalManager originalManager;
    private PreloadCacheManager preloadCacheManager;
    private VideoPlayerManager videoPlayerManager;
    private GlobalHotKeyManager _globalHotKeyManager;
    
    // + 30+ ä¸ªå…¶ä»–å­—æ®µ
    // + 200+ ä¸ªæ–¹æ³•
}
```

**å½±å“**ï¼š
- ä»£ç ç»´æŠ¤å›°éš¾
- æµ‹è¯•å›°éš¾
- è¿åå•ä¸€èŒè´£åŸåˆ™
- å®¹æ˜“äº§ç”Ÿbug

**å»ºè®®**ï¼š
```csharp
// æ‹†åˆ†æˆå¤šä¸ªéƒ¨åˆ†ç±»æˆ–ç»„ä»¶
// MainWindow.Core.cs - æ ¸å¿ƒåŠŸèƒ½
// MainWindow.Media.cs - åª’ä½“æ’­æ”¾ç›¸å…³
// MainWindow.Projection.cs - æŠ•å½±ç›¸å…³
// MainWindow.TreeView.cs - é¡¹ç›®æ ‘ç›¸å…³
// å·²ç»éƒ¨åˆ†å®ç°ï¼šMainWindow.Keyframe.cs, MainWindow.Original.cs, MainWindow.TextEditor.cs
```

---

#### 2. é‡å¤çš„CloseProjection()è¿”å›å€¼å¤„ç†é€»è¾‘é”™è¯¯
**ä½ç½®**: `Managers/ProjectionManager.cs` ç¬¬943è¡Œ

**é—®é¢˜**ï¼š
```csharp
public bool CloseProjection()
{
    try
    {
        _syncEnabled = false;
        _mainWindow.Dispatcher.Invoke(() =>
        {
            if (_projectionWindow != null)
            {
                _projectionWindow.KeyDown -= ProjectionWindow_KeyDown;
                _projectionWindow.Close();
                _projectionWindow = null;
            }
            // ... æ¸…ç†ä»£ç 
        });
        return true;  // âš ï¸ æ— è®ºæ˜¯å¦æœ‰æŠ•å½±çª—å£éƒ½è¿”å›true
    }
    catch (Exception)
    {
        return false;  // ä»…åœ¨å¼‚å¸¸æ—¶è¿”å›false
    }
}
```

**å½±å“**ï¼š
- å¯¼è‡´ESCé”®å¤„ç†é€»è¾‘æ··ä¹±ï¼ˆåˆšä¿®å¤çš„V4.0.9é—®é¢˜ï¼‰
- è°ƒç”¨æ–¹æ— æ³•åˆ¤æ–­æ˜¯å¦çœŸæ­£å…³é—­äº†æŠ•å½±

**å»ºè®®**ï¼š
```csharp
public bool CloseProjection()
{
    try
    {
        bool hadProjection = false;
        _syncEnabled = false;
        
        _mainWindow.Dispatcher.Invoke(() =>
        {
            if (_projectionWindow != null)
            {
                hadProjection = true;  // æ ‡è®°æœ‰æŠ•å½±çª—å£
                _projectionWindow.KeyDown -= ProjectionWindow_KeyDown;
                _projectionWindow.Close();
                _projectionWindow = null;
            }
            // ... æ¸…ç†ä»£ç 
        });
        
        if (hadProjection)
        {
            ProjectionStateChanged?.Invoke(this, false);
        }
        
        return hadProjection;  // è¿”å›æ˜¯å¦çœŸæ­£å…³é—­äº†æŠ•å½±
    }
    catch (Exception)
    {
        return false;
    }
}
```

---

#### 3. è¿‡åº¦çš„è°ƒè¯•æ—¥å¿—ï¼ˆæ€§èƒ½é—®é¢˜ï¼‰
**ä½ç½®**: å…¨å±€

**é—®é¢˜**ï¼š
- 991+ è¡Œè¢«æ³¨é‡Šçš„è°ƒè¯•ä»£ç 
- éƒ¨åˆ†å…³é”®è·¯å¾„æœ‰æ´»è·ƒçš„Debug.WriteLineï¼ˆV4.0.9æ–°å¢ï¼‰

**ç¤ºä¾‹**ï¼š
```csharp
System.Diagnostics.Debug.WriteLine("\nğŸ”„ ========== SwitchToImageMode è¢«è°ƒç”¨ ==========");
System.Diagnostics.Debug.WriteLine($"   å½“å‰æ—¶é—´: {DateTime.Now:HH:mm:ss:fff}");
System.Diagnostics.Debug.WriteLine($"   videoPlayerManager != null: {videoPlayerManager != null}");
System.Diagnostics.Debug.WriteLine($"   videoPlayerManager.IsPlaying: {videoPlayerManager?.IsPlaying}");
// ... 10+ è¡Œè°ƒè¯•è¾“å‡º
```

**å½±å“**ï¼š
- Releaseç‰ˆæœ¬ä»ä¼šæ‰§è¡Œï¼ˆDebug.WriteLineåœ¨Releaseä¹Ÿä¼šè¿è¡Œï¼‰
- å­—ç¬¦ä¸²æ‹¼æ¥å’Œæ–¹æ³•è°ƒç”¨å¼€é”€
- æ—¥å¿—è¿‡å¤šï¼Œéš¾ä»¥ç­›é€‰æœ‰ç”¨ä¿¡æ¯

**å»ºè®®**ï¼š
```csharp
// 1. ä½¿ç”¨æ¡ä»¶ç¼–è¯‘
#if DEBUG
    System.Diagnostics.Debug.WriteLine("...");
#endif

// 2. ä½¿ç”¨æ—¥å¿—æ¡†æ¶ï¼ˆå¦‚Serilogã€NLogï¼‰
// 3. åœ¨ç¨³å®šåç§»é™¤è°ƒè¯•æ—¥å¿—
// 4. ä¿ç•™å…³é”®é”™è¯¯æ—¥å¿—
```

---

### ğŸŸ¡ ä¸­ç­‰é—®é¢˜

#### 4. é‡å¤çš„nullæ£€æŸ¥æ¨¡å¼
**ä½ç½®**: å¤šå¤„

**é—®é¢˜**ï¼š
```csharp
// æ¨¡å¼1ï¼šå¤šä½™çš„åµŒå¥—
if (videoPlayerManager != null)
{
    if (videoPlayerManager.IsPlaying)
    {
        videoPlayerManager.Stop();
    }
}

// å¯ç®€åŒ–ä¸ºï¼š
if (videoPlayerManager != null && videoPlayerManager.IsPlaying)
{
    videoPlayerManager.Stop();
}

// æˆ–ä½¿ç”¨ ?. æ“ä½œç¬¦
videoPlayerManager?.Stop();  // ä½†Stop()å¿…é¡»æ£€æŸ¥IsPlayingçŠ¶æ€
```

**å»ºè®®**ï¼šç»Ÿä¸€nullæ£€æŸ¥é£æ ¼ï¼Œä½¿ç”¨ç°ä»£C#è¯­æ³•

---

#### 5. é­”æ³•æ•°å­—å’Œç¡¬ç¼–ç å€¼
**ä½ç½®**: å¤šå¤„

**é—®é¢˜**ï¼š
```csharp
private DateTime lastPlayModeClickTime = DateTime.MinValue;
private DateTime lastMediaPrevClickTime = DateTime.MinValue;

// æŒ‰é’®é˜²æŠ–åŠ¨ï¼Œä½†æ²¡æœ‰æ˜ç¡®çš„é˜²æŠ–æ—¶é—´å¸¸é‡
// åœ¨ä½¿ç”¨æ—¶å¯èƒ½æ˜¯ï¼š
if ((DateTime.Now - lastPlayModeClickTime).TotalMilliseconds < 300) return;
```

**å»ºè®®**ï¼š
```csharp
private const int BUTTON_DEBOUNCE_MILLISECONDS = 300;
private DateTime lastPlayModeClickTime = DateTime.MinValue;

if ((DateTime.Now - lastPlayModeClickTime).TotalMilliseconds < BUTTON_DEBOUNCE_MILLISECONDS) 
    return;
```

---

#### 6. å¯èƒ½çš„å†…å­˜æ³„æ¼ï¼šäº‹ä»¶æœªå–æ¶ˆè®¢é˜…
**ä½ç½®**: å¤šå¤„äº‹ä»¶è®¢é˜…

**é£é™©ç‚¹**ï¼š
```csharp
// VideoView Loadedäº‹ä»¶
mainVideoView.Loaded += (s, e) => { ... };  // âš ï¸ åŒ¿åæ–¹æ³•ï¼Œéš¾ä»¥å–æ¶ˆè®¢é˜…

// SizeChangedäº‹ä»¶
projectionVideoView.SizeChanged += handler;  // âš ï¸ æ²¡æœ‰åœ¨Disposeæ—¶å–æ¶ˆè®¢é˜…

// ViewModeläº‹ä»¶
_playbackViewModel.JumpToKeyframe += OnJumpToKeyframe;  // âœ… æœ‰æ˜ç¡®çš„æ–¹æ³•å¼•ç”¨
```

**å»ºè®®**ï¼š
1. é¿å…ä½¿ç”¨åŒ¿åæ–¹æ³•è®¢é˜…äº‹ä»¶
2. åœ¨Window_Closingæˆ–Disposeä¸­å–æ¶ˆæ‰€æœ‰äº‹ä»¶è®¢é˜…
3. ä½¿ç”¨WeakEventManagerï¼ˆWPFæ¨èï¼‰

---

#### 7. å¼‚æ­¥æ–¹æ³•å‘½åä¸è§„èŒƒ
**ä½ç½®**: å¤šå¤„

**é—®é¢˜**ï¼š
```csharp
// âŒ å¼‚æ­¥æ–¹æ³•æ²¡æœ‰Asyncåç¼€
private void BtnRecord_Click(object sender, RoutedEventArgs e)
{
    // å†…éƒ¨ä½¿ç”¨äº† await
}

// âœ… åº”è¯¥å‘½åä¸º
private async void BtnRecord_ClickAsync(object sender, RoutedEventArgs e)
{
    // ...
}
```

**å½±å“**ï¼š
- è°ƒç”¨æ–¹ä¸çŸ¥é“è¿™æ˜¯å¼‚æ­¥æ–¹æ³•
- éš¾ä»¥è¿½è¸ªå¼‚æ­¥è°ƒç”¨é“¾

---

### ğŸŸ¢ è½»å¾®é—®é¢˜

#### 8. æ³¨é‡Šè¿‡å¤šçš„ä»£ç ï¼ˆä»£ç åŸå¢“ï¼‰
**ä½ç½®**: å…¨å±€

**ç»Ÿè®¡**ï¼š
- 991+ è¡Œæ³¨é‡Šæ‰çš„System.Diagnostics.Debug.WriteLine
- éƒ¨åˆ†è¢«æ³¨é‡Šçš„æ—§é€»è¾‘

**å»ºè®®**ï¼š
```csharp
// âŒ ä¸è¦ä¿ç•™å¤§é‡æ³¨é‡Šä»£ç 
//System.Diagnostics.Debug.WriteLine("ğŸ¯ å·²æ¸…ç©ºå›¾ç‰‡æ˜¾ç¤º");

// âœ… ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼ˆGitï¼‰ç®¡ç†å†å²ä»£ç 
// âœ… ä¿ç•™ç®€çŸ­çš„æ³¨é‡Šè¯´æ˜ä¸ºä»€ä¹ˆæ³¨é‡Šï¼ˆå¦‚æœå¿…è¦ï¼‰
```

---

#### 9. å­—æ®µå‘½åä¸ä¸€è‡´
**ä½ç½®**: å…¨å±€

**é—®é¢˜**ï¼š
```csharp
// ä¸ä¸€è‡´çš„å‘½åé£æ ¼
private VideoPlayerManager videoPlayerManager;   // é¦–å­—æ¯å°å†™
private Utils.GlobalHotKeyManager _globalHotKeyManager;  // ä¸‹åˆ’çº¿å‰ç¼€
private ProjectionManager projectionManager;  // é¦–å­—æ¯å°å†™
```

**å»ºè®®**ï¼š
```csharp
// ç»Ÿä¸€ä½¿ç”¨ä¸€ç§é£æ ¼
// é€‰é¡¹1ï¼šå…¨éƒ¨é¦–å­—æ¯å°å†™
private VideoPlayerManager videoPlayerManager;
private GlobalHotKeyManager globalHotKeyManager;

// é€‰é¡¹2ï¼šå…¨éƒ¨ä¸‹åˆ’çº¿å‰ç¼€
private VideoPlayerManager _videoPlayerManager;
private GlobalHotKeyManager _globalHotKeyManager;
```

---

#### 10. try-catchåæ‰å¼‚å¸¸
**ä½ç½®**: å¤šå¤„

**é—®é¢˜**ï¼š
```csharp
catch (Exception)
{
    //System.Diagnostics.Debug.WriteLine($"æ¸…ç©ºå›¾ç‰‡æ˜¾ç¤ºå¤±è´¥: {ex.Message}");
}
```

**å½±å“**ï¼š
- å¼‚å¸¸è¢«é™é»˜åæ‰
- éš¾ä»¥è°ƒè¯•
- ç”¨æˆ·çœ‹ä¸åˆ°é”™è¯¯ä¿¡æ¯

**å»ºè®®**ï¼š
```csharp
catch (Exception ex)
{
    // è®°å½•æ—¥å¿—
    System.Diagnostics.Debug.WriteLine($"âŒ æ¸…ç©ºå›¾ç‰‡æ˜¾ç¤ºå¤±è´¥: {ex.Message}");
    // æˆ–è€…é‡æ–°æŠ›å‡º
    // æˆ–è€…æ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
}
```

---

## ä¸‰ã€æ€§èƒ½é—®é¢˜

### 1. é¢‘ç¹çš„å­—ç¬¦ä¸²æ“ä½œ
**ä½ç½®**: è°ƒè¯•æ—¥å¿—

```csharp
System.Diagnostics.Debug.WriteLine($"   å½“å‰æ—¶é—´: {DateTime.Now:HH:mm:ss:fff}");
System.Diagnostics.Debug.WriteLine($"   videoPlayerManager != null: {videoPlayerManager != null}");
```

**å½±å“**: å³ä½¿åœ¨Releaseæ¨¡å¼ï¼Œå­—ç¬¦ä¸²æ’å€¼ä»ä¼šæ‰§è¡Œ

**å»ºè®®**: ä½¿ç”¨æ¡ä»¶ç¼–è¯‘æˆ–æ—¥å¿—æ¡†æ¶çš„å»¶è¿Ÿè®¡ç®—

---

### 2. Dispatcher.Invoke å¯èƒ½çš„æ­»é”
**ä½ç½®**: å¤šå¤„

```csharp
_mainWindow.Dispatcher.Invoke(() =>
{
    // é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œ
});
```

**é£é™©**: å¦‚æœUIçº¿ç¨‹åœ¨ç­‰å¾…å…¶ä»–é”ï¼Œå¯èƒ½æ­»é”

**å»ºè®®**: ä½¿ç”¨ `Dispatcher.InvokeAsync` æˆ– `BeginInvoke`

---

## å››ã€æ¶æ„å»ºè®®

### 1. æ‹†åˆ†MainWindowç±»

**å½“å‰é—®é¢˜**ï¼š5930è¡Œè¶…å¤§ç±»

**å»ºè®®æ–¹æ¡ˆ**ï¼š
```
MainWindow (æ ¸å¿ƒåè°ƒ)
â”œâ”€â”€ MediaPlayerController (åª’ä½“æ’­æ”¾)
â”œâ”€â”€ ProjectionController (æŠ•å½±ç®¡ç†)
â”œâ”€â”€ ProjectTreeController (é¡¹ç›®æ ‘)
â”œâ”€â”€ KeyframeController (å…³é”®å¸§)
â”œâ”€â”€ OriginalModeController (åŸå›¾æ¨¡å¼)
â””â”€â”€ TextEditorController (æ–‡æœ¬ç¼–è¾‘)
```

---

### 2. å¼•å…¥æ—¥å¿—æ¡†æ¶

**å½“å‰é—®é¢˜**ï¼šä½¿ç”¨Debug.WriteLineï¼Œéš¾ä»¥ç®¡ç†

**å»ºè®®**ï¼š
- Serilogï¼šå¼ºå¤§ã€å¯é…ç½®
- NLogï¼šè½»é‡ã€æ˜“ç”¨
- log4netï¼šç»å…¸é€‰æ‹©

---

### 3. ç»Ÿä¸€å¼‚å¸¸å¤„ç†ç­–ç•¥

**å½“å‰é—®é¢˜**ï¼š
- éƒ¨åˆ†å¼‚å¸¸è¢«åæ‰
- éƒ¨åˆ†å¼‚å¸¸åªè®°å½•æ—¥å¿—
- æ²¡æœ‰ç»Ÿä¸€çš„é”™è¯¯å¤„ç†

**å»ºè®®**ï¼š
```csharp
// å…¨å±€å¼‚å¸¸å¤„ç†
App.DispatcherUnhandledException += (s, e) => {
    LogError(e.Exception);
    ShowErrorDialog(e.Exception);
    e.Handled = true;
};
```

---

## äº”ã€ä¼˜å…ˆçº§å»ºè®®

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå·²å®Œæˆ âœ…ï¼‰
1. âœ… **ä¿®å¤CloseProjectionè¿”å›å€¼é€»è¾‘**ï¼ˆå·²ä¿®å¤ - 2025-10-17ï¼‰
2. âœ… **æ¸…ç†æˆ–æ¡ä»¶ç¼–è¯‘è°ƒè¯•æ—¥å¿—**ï¼ˆå·²å®Œæˆ - ä½¿ç”¨#if DEBUGï¼‰
3. âœ… **æ£€æŸ¥äº‹ä»¶è®¢é˜…æ³„æ¼**ï¼ˆå·²ä¿®å¤ - æ·»åŠ äº‹ä»¶å–æ¶ˆè®¢é˜…ï¼‰

**è¯¦ç»†ä¿®å¤æŠ¥å‘Š**: è§ `é«˜ä¼˜å…ˆçº§ä¿®å¤æ€»ç»“.md`

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆå»ºè®®è¿‘æœŸå¤„ç†ï¼‰
4. **ç»Ÿä¸€å‘½åè§„èŒƒ**
5. **æ‹†åˆ†MainWindowç±»**ï¼ˆé•¿æœŸé‡æ„ï¼‰
6. **å¼•å…¥æ—¥å¿—æ¡†æ¶**

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆå¯æ‹©æœºå¤„ç†ï¼‰
7. **æ¸…ç†æ³¨é‡Šä»£ç **
8. **ç»Ÿä¸€nullæ£€æŸ¥é£æ ¼**
9. **æ·»åŠ å¸¸é‡å®šä¹‰ä»£æ›¿é­”æ³•æ•°å­—**

---

## å…­ã€ä»£ç è´¨é‡æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰çŠ¶æ€ | å»ºè®®ç›®æ ‡ |
|------|---------|---------|
| å•ä¸ªç±»è¡Œæ•° | 5930è¡Œ | <1000è¡Œ |
| æ–¹æ³•å¤æ‚åº¦ | éƒ¨åˆ†è¿‡é«˜ | å¾ªç¯å¤æ‚åº¦<10 |
| æ³¨é‡Šä»£ç ç‡ | ~17% | <5% |
| äº‹ä»¶è®¢é˜…æ¸…ç† | éƒ¨åˆ†ç¼ºå¤± | 100%æ¸…ç† |
| å¼‚å¸¸å¤„ç† | ä¸ç»Ÿä¸€ | ç»Ÿä¸€ç­–ç•¥ |

---

## ä¸ƒã€æ€»ç»“

### æ•´ä½“è¯„ä»·
**ä»£ç è´¨é‡**: â­â­â­â­â˜† (4/5)

**ä¼˜ç‚¹**ï¼š
âœ… æ¶æ„æ¸…æ™°ï¼Œåˆ†å±‚åˆç†
âœ… ä½¿ç”¨äº†ç°ä»£C#ç‰¹æ€§
âœ… æœ‰è¾ƒå¥½çš„å°è£…æ€§
âœ… Managerç±»èŒè´£ç›¸å¯¹æ˜ç¡®

**ä¸»è¦é—®é¢˜**ï¼š
âš ï¸ MainWindowç±»è¿‡äºè‡ƒè‚¿
âš ï¸ è°ƒè¯•ä»£ç è¿‡å¤š
âš ï¸ éƒ¨åˆ†é€»è¾‘åˆ¤æ–­æœ‰ç¼ºé™·
âš ï¸ å¯èƒ½å­˜åœ¨äº‹ä»¶æ³„æ¼

### å»ºè®®è¡ŒåŠ¨è®¡åˆ’

**ç¬¬ä¸€é˜¶æ®µï¼ˆç«‹å³ï¼‰**ï¼š
- [ ] ä¿®å¤CloseProjectionè¿”å›å€¼é€»è¾‘
- [ ] æ¸…ç†æˆ–æ¡ä»¶ç¼–è¯‘è°ƒè¯•æ—¥å¿—
- [ ] æ£€æŸ¥å¹¶ä¿®å¤äº‹ä»¶è®¢é˜…æ³„æ¼

**ç¬¬äºŒé˜¶æ®µï¼ˆ1ä¸ªæœˆå†…ï¼‰**ï¼š
- [ ] ç»Ÿä¸€ä»£ç è§„èŒƒ
- [ ] å¼•å…¥æ—¥å¿—æ¡†æ¶
- [ ] å¼€å§‹æ‹†åˆ†MainWindow

**ç¬¬ä¸‰é˜¶æ®µï¼ˆé•¿æœŸï¼‰**ï¼š
- [ ] å®ŒæˆMainWindowé‡æ„
- [ ] æé«˜æµ‹è¯•è¦†ç›–ç‡
- [ ] æ€§èƒ½ä¼˜åŒ–

---

**ç”Ÿæˆå·¥å…·**: ä»£ç å®¡æŸ¥åŠ©æ‰‹
**å®¡æŸ¥äºº**: AI Code Reviewer
**æ—¥æœŸ**: 2025-10-17

