---
alwaysApply: true
---
始终使用中文回答问题
不能随意生成MD文档，除非有明确要求
禁止自动GIT存档，除非有明确要求
禁止修改Canvas的任何代码，这个文件夹只是用来参考的python版本
GIT存档推送的时候，说明要求用中文，不要用英文
代码逻辑必须保持最简单有效的思路来编写
如果用户发现代码测试错误，首先要做的就是添加调试信息，来定位问题，而不是乱猜问题原因

## C#/WPF迁移重要注意事项
遇到功能问题时，必须先做以下检查：
1. 先查看Canvas文件夹中的Python参考实现，理解原始逻辑
2. 不要臆测或添加额外的"优化"逻辑（如快速点击检测等）
3. 调试信息必须显示具体的判断条件值，而不是只输出结果
4. 理解WPF框架特性：
   - Storyboard.Stop()后必须用BeginAnimation(property, null)清除动画属性
   - 依赖属性会被动画"霸占"，直到显式清除
   - Console.WriteLine输出的位置和System.Diagnostics.Debug.WriteLine不同
5. 遇到动画、滚动等涉及UI的问题，优先检查属性是否被动画占用